{
    "uid": "87BE6898K0E78A48FCSB889E1DAAB10BF84B",
    "isLoaded": true,
    "lastModificationTime": 0,
    "items": {
        "name": "Component_HotspotBehavior",
        "type": "game_script",
        "order": 1,
        "parentId": "01A95DA3K01E8A4CB4SBE17E790BCE1FC035",
        "folder": false,
        "content": "# ===================================================================\n#\n#   Script: Component_HotspotBehavior\n#\n#   $$COPYRIGHT$$\n#\n# ===================================================================\n\nclass HotspotShape\n    @RECTANGLE = \"rect\"\n    @PIXEL = \"pixel\"\ngs.HotspotShape = HotspotShape\n\nclass Component_HotspotBehavior extends gs.Component\n    ###*\n    * Called if this object instance is restored from a data-bundle. It can be used\n    * re-assign event-handler, anonymous functions, etc.\n    *\n    * @method onDataBundleRestore.\n    * @param Object data - The data-bundle\n    * @param gs.ObjectCodecContext context - The codec-context.\n    ###\n    onDataBundleRestore: (data, context) ->\n        @setupEventHandlers()\n\n    ###*\n    * Adds a hotspot-behavior to a game object. That allows a game object\n    * to respond to mouse/touch actions by firing an action-event or changing\n    * the game object's image.\n    *\n    * @module gs\n    * @class Component_HotspotBehavior\n    * @extends gs.Component\n    * @memberof gs\n    * @constructor\n    ###\n    constructor: (params) ->\n        ###*\n        * The shape used to detect if a hotspot is clicked, hovered, etc.\n        * @property shape\n        * @type boolean\n        ###\n        @shape = gs.HotspotShape.RECTANGLE\n\n        ###*\n        * Indicates if the hotspot is selected.\n        * @property selected\n        * @type boolean\n        ###\n        @selected = no\n\n        ###*\n        * Indicates if the hotspot is enabled.\n        * @property enabled\n        * @type boolean\n        ###\n        @enabled = yes\n\n        ###*\n        * @property imageHandling\n        * @type number\n        * @protected\n        ###\n        @imageHandling = 0\n\n        ###*\n        * Indicates if the mouse/touch pointer is inside the hotspot bounds.\n        * @property contains\n        * @type boolean\n        * @protected\n        ###\n        @containsPointer = no\n\n        ###*\n        * Indicates if the action-button was pressed before.\n        * @property buttonUp\n        * @type boolean\n        * @protected\n        ###\n        @buttonUp = no\n\n        ###*\n        * Indicates if the action-button is pressed.\n        * @property buttonDown\n        * @type boolean\n        * @protected\n        ###\n        @buttonDown = no\n\n        ###*\n        * @property actionButtons\n        * @type Object\n        * @protected\n        ###\n        @actionButtons = { \"left\": Input.Mouse.BUTTON_LEFT, \"right\": Input.Mouse.BUTTON_RIGHT, \"middle\": Input.Mouse.BUTTON_MIDDLE }\n\n        ###*\n        * The default action-button. By default the left-button is used.\n        *\n        * @property actionButton\n        * @type number\n        ###\n        @actionButton = @actionButtons[params?.actionButton ? \"left\"]\n\n        ###*\n        * The sound played if the hotspot action is executed.\n        * @property sound\n        * @type Object\n        ###\n        @sound = params?.sound\n\n        ###*\n        * <p>The sounds played depending on the hotspot state.</p>\n        * <ul>\n        * <li>0 = Select Sound</li>\n        * <li>1 = Unselect Sound</li>\n        * </ul>\n        * @property sounds\n        * @type Object[]\n        ###\n        @sounds = params?.sounds || []\n\n\n    ###*\n    * Gets the render-index of the object associated with the hotspot component. This\n    * implementation is necessary to be able to act as an owner for gs.EventEmitter.on\n    * event registration.\n    *\n    * @property rIndex\n    * @type number\n    ###\n    @accessors \"rIndex\",\n        get: -> @object.target?.rIndex || @object.rIndex\n\n    ###*\n    * Sets up event handlers.\n    *\n    * @method setupEventHandlers\n    ###\n    setupEventHandlers: ->\n        gs.GlobalEventManager.offByOwner(\"mouseUp\", this)\n        gs.GlobalEventManager.offByOwner(\"mouseMoved\", this)\n\n        gs.GlobalEventManager.on \"hotspotDrop\", ((e) =>\n            return if !@object.canReceiveInput()\n            scene = SceneManager.scene\n            for hotspot in scene.hotspots\n                rect = e.sender.dstRect\n                if hotspot? and hotspot != e.sender and hotspot.dstRect.contains(Input.Mouse.x, Input.Mouse.y)\n                    hotspot.events.emit(\"dropReceived\", hotspot)\n                    #@executeAction(hotspot.data.params.actions.onDropReceive, yes, hotspot.data.bindValue)\n        ), null, this\n\n        gs.GlobalEventManager.on \"mouseUp\", ((e) =>\n            return if !@object.canReceiveInput()\n            return if not @object.visible\n            mx = Input.Mouse.x - @object.origin.x\n            my = Input.Mouse.y - @object.origin.y\n            contains = Rect.contains(@object.dstRect.x, @object.dstRect.y,\n                         @object.dstRect.width, @object.dstRect.height,\n                         mx, my)\n            if contains\n                contains = @checkShape(mx - @object.dstRect.x, my - @object.dstRect.y)\n                if contains\n                    @containsPointer = contains\n                    @updateInput()\n                    @updateEvents()\n                    @object.needsUpdate = yes\n                    e.breakChain = yes\n            ),\n            null, this\n\n        if @object.images or yes\n            gs.GlobalEventManager.on \"mouseMoved\", ((e) =>\n                return if !@object.canReceiveInput()\n                return if not @object.visible\n\n                contains = Rect.contains(@object.dstRect.x, @object.dstRect.y,\n                         @object.dstRect.width, @object.dstRect.height,\n                         Input.Mouse.x - @object.origin.x, Input.Mouse.y - @object.origin.y)\n\n                if contains\n                    mx = Input.Mouse.x - @object.origin.x\n                    my = Input.Mouse.y - @object.origin.y\n                    contains = @checkShape(mx - @object.dstRect.x, my - @object.dstRect.y)\n\n                if @containsPointer != contains\n                    @containsPointer = contains\n                    @object.needsUpdate = yes\n\n                    if contains\n                        @object.events.emit(\"enter\", this)\n                    else\n                        @object.events.emit(\"leave\", this)\n\n                @updateInput()\n            ),\n            null, this\n\n    ###*\n    * Initializes the hotspot component.\n    *\n    * @method setup\n    ###\n    setup: ->\n        super\n\n        @sound = ui.Component_FormulaHandler.fieldValue(@object, @sound)\n\n        if @sounds?\n            for sound, i in @sounds\n                @sounds[i] = ui.Component_FormulaHandler.fieldValue(@object, sound)\n        else\n           @sounds = []\n\n\n        @setupEventHandlers()\n\n\n\n    ###*\n    * Disposes the component.\n    *\n    * @method dispose\n    ###\n    dispose: ->\n        super\n\n        gs.GlobalEventManager.offByOwner(\"mouseUp\", this)\n        gs.GlobalEventManager.offByOwner(\"mouseMoved\", this)\n\n\n    ###*\n    * Checks if the specified point is inside of the hotspot's shape.\n    *\n    * @method checkShape\n    * @param x - The x-coordinate of the point.\n    * @param y - The y-coordinate of the point.\n    * @return If <b>true</b> the point is inside of the hotspot's shape. Otherwise <b>false</b>.\n    ###\n    checkShape: (x, y) ->\n        result = yes\n\n        switch @shape\n            when gs.HotspotShape.PIXEL\n                if @object.bitmap\n                    result = @object.bitmap.isPixelSet(x, y)\n                else\n                    result = @object.target?.bitmap.isPixelSet(x, y)\n\n        return result\n\n    ###*\n    * Updates the image depending on the hotspot state.\n    *\n    * @method updateImage\n    * @protected\n    ###\n    updateImage: ->\n        object = @object.target || @object\n        if @object.images?\n            baseImage = if @enabled then @object.images[4] || @object.images[0] else @object.images[0]\n            if @containsPointer\n                if @object.selected or @selected\n                    object.image = @object.images[3]?.name || @object.images[2]?.name || baseImage?.name\n                    object.imageFolder = @object.images[3]?.folderPath || @object.images[2]?.folderPath || baseImage?.folderPath\n                else\n                    object.image = @object.images[1]?.name || baseImage?.name\n                    object.imageFolder = @object.images[1]?.folderPath || baseImage?.folderPath\n            else\n                if @object.selected or @selected\n                    object.image = @object.images[2]?.name || @object.images[4]?.name || baseImage?.name\n                    object.imageFolder = @object.images[2]?.folderPath || @object.images[4]?.folderPath || baseImage?.folderPath\n                else\n                    object.image = baseImage?.name\n                    object.imageFolder = baseImage?.folderPath\n\n            if !object.image\n                object.bitmap = null\n\n\n    ###*\n    * Updates the hotspot position and size from an other target game object. For example,\n    * that is useful for adding a hotspot to an other moving game object.\n    *\n    * @method updateFromTarget\n    * @protected\n    ###\n    updateFromTarget: ->\n        if @object.target?\n            @object.rIndex = @object.target.rIndex\n            @object.dstRect.x = @object.target.dstRect.x\n            @object.dstRect.y = @object.target.dstRect.y\n            @object.dstRect.width = @object.target.dstRect.width\n            @object.dstRect.height = @object.target.dstRect.height\n            @object.offset.x = @object.target.offset.x\n            @object.offset.y = @object.target.offset.y\n            @object.origin.x = @object.target.origin.x\n            @object.origin.y = @object.target.origin.y\n\n    ###*\n    * Updates the event-handling and fires necessary events.\n    *\n    * @method updateEvents\n    * @protected\n    ###\n    updateEvents: ->\n        if @buttonUp and @object.enabled and @enabled and @object.visible\n            if @object.selectable\n                group = gs.ObjectManager.current.objectsByGroup(@object.group)\n                for object in group\n                    if object != @object\n                        object.selected = no\n                if @object.group\n                    @selected = yes\n                else\n                    @selected = !@selected\n\n                if @selected\n                    AudioManager.playSound(@sounds[0] || @sound)\n                else\n                    AudioManager.playSound(@sounds[1] || @sound)\n                @object.events.emit(\"click\", this)\n                @object.events.emit(\"stateChanged\", @object)\n            else\n                AudioManager.playSound(@sounds[0] || @sound)\n                @object.events.emit(\"click\", this)\n                @object.events.emit(\"action\", this)\n\n    ###*\n    * Updates the game object's color depending on the state of the hotspot.\n    *\n    * @method updateColor\n    * @protected\n    ###\n    updateColor: ->\n        if !@object.enabled\n            @object.color.set(0, 0, 0, 100)\n        else\n            @object.color.set(0, 0, 0, 0)\n\n    ###*\n    * Stores current states of mouse/touch pointer and buttons.\n    *\n    * @method updateInput\n    * @protected\n    ###\n    updateInput: ->\n        @buttonUp = Input.Mouse.buttons[@actionButton] == 2 and @containsPointer\n        @buttonDown = Input.Mouse.buttons[@actionButton] == 1 and @containsPointer\n\n    ###*\n    * Updates the hotspot component.\n    *\n    * @method update\n    ###\n    update: ->\n        if not @object.visible then return\n\n        @updateColor()\n        @updateFromTarget()\n        @updateImage()\n\ngs.Component_HotspotBehavior = Component_HotspotBehavior",
        "compiledContent": "var Component_HotspotBehavior, HotspotShape,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nHotspotShape = (function() {\n  function HotspotShape() {}\n\n  HotspotShape.RECTANGLE = \"rect\";\n\n  HotspotShape.PIXEL = \"pixel\";\n\n  return HotspotShape;\n\n})();\n\ngs.HotspotShape = HotspotShape;\n\nComponent_HotspotBehavior = (function(superClass) {\n  extend(Component_HotspotBehavior, superClass);\n\n\n  /**\n  * Called if this object instance is restored from a data-bundle. It can be used\n  * re-assign event-handler, anonymous functions, etc.\n  *\n  * @method onDataBundleRestore.\n  * @param Object data - The data-bundle\n  * @param gs.ObjectCodecContext context - The codec-context.\n   */\n\n  Component_HotspotBehavior.prototype.onDataBundleRestore = function(data, context) {\n    return this.setupEventHandlers();\n  };\n\n\n  /**\n  * Adds a hotspot-behavior to a game object. That allows a game object\n  * to respond to mouse/touch actions by firing an action-event or changing\n  * the game object's image.\n  *\n  * @module gs\n  * @class Component_HotspotBehavior\n  * @extends gs.Component\n  * @memberof gs\n  * @constructor\n   */\n\n  function Component_HotspotBehavior(params) {\n\n    /**\n    * The shape used to detect if a hotspot is clicked, hovered, etc.\n    * @property shape\n    * @type boolean\n     */\n    var ref;\n    this.shape = gs.HotspotShape.RECTANGLE;\n\n    /**\n    * Indicates if the hotspot is selected.\n    * @property selected\n    * @type boolean\n     */\n    this.selected = false;\n\n    /**\n    * Indicates if the hotspot is enabled.\n    * @property enabled\n    * @type boolean\n     */\n    this.enabled = true;\n\n    /**\n    * @property imageHandling\n    * @type number\n    * @protected\n     */\n    this.imageHandling = 0;\n\n    /**\n    * Indicates if the mouse/touch pointer is inside the hotspot bounds.\n    * @property contains\n    * @type boolean\n    * @protected\n     */\n    this.containsPointer = false;\n\n    /**\n    * Indicates if the action-button was pressed before.\n    * @property buttonUp\n    * @type boolean\n    * @protected\n     */\n    this.buttonUp = false;\n\n    /**\n    * Indicates if the action-button is pressed.\n    * @property buttonDown\n    * @type boolean\n    * @protected\n     */\n    this.buttonDown = false;\n\n    /**\n    * @property actionButtons\n    * @type Object\n    * @protected\n     */\n    this.actionButtons = {\n      \"left\": Input.Mouse.BUTTON_LEFT,\n      \"right\": Input.Mouse.BUTTON_RIGHT,\n      \"middle\": Input.Mouse.BUTTON_MIDDLE\n    };\n\n    /**\n    * The default action-button. By default the left-button is used.\n    *\n    * @property actionButton\n    * @type number\n     */\n    this.actionButton = this.actionButtons[(ref = params != null ? params.actionButton : void 0) != null ? ref : \"left\"];\n\n    /**\n    * The sound played if the hotspot action is executed.\n    * @property sound\n    * @type Object\n     */\n    this.sound = params != null ? params.sound : void 0;\n\n    /**\n    * <p>The sounds played depending on the hotspot state.</p>\n    * <ul>\n    * <li>0 = Select Sound</li>\n    * <li>1 = Unselect Sound</li>\n    * </ul>\n    * @property sounds\n    * @type Object[]\n     */\n    this.sounds = (params != null ? params.sounds : void 0) || [];\n  }\n\n\n  /**\n  * Gets the render-index of the object associated with the hotspot component. This\n  * implementation is necessary to be able to act as an owner for gs.EventEmitter.on\n  * event registration.\n  *\n  * @property rIndex\n  * @type number\n   */\n\n  Component_HotspotBehavior.accessors(\"rIndex\", {\n    get: function() {\n      var ref;\n      return ((ref = this.object.target) != null ? ref.rIndex : void 0) || this.object.rIndex;\n    }\n  });\n\n\n  /**\n  * Sets up event handlers.\n  *\n  * @method setupEventHandlers\n   */\n\n  Component_HotspotBehavior.prototype.setupEventHandlers = function() {\n    gs.GlobalEventManager.offByOwner(\"mouseUp\", this);\n    gs.GlobalEventManager.offByOwner(\"mouseMoved\", this);\n    gs.GlobalEventManager.on(\"hotspotDrop\", ((function(_this) {\n      return function(e) {\n        var hotspot, j, len, rect, ref, results, scene;\n        if (!_this.object.canReceiveInput()) {\n          return;\n        }\n        scene = SceneManager.scene;\n        ref = scene.hotspots;\n        results = [];\n        for (j = 0, len = ref.length; j < len; j++) {\n          hotspot = ref[j];\n          rect = e.sender.dstRect;\n          if ((hotspot != null) && hotspot !== e.sender && hotspot.dstRect.contains(Input.Mouse.x, Input.Mouse.y)) {\n            results.push(hotspot.events.emit(\"dropReceived\", hotspot));\n          } else {\n            results.push(void 0);\n          }\n        }\n        return results;\n      };\n    })(this)), null, this);\n    gs.GlobalEventManager.on(\"mouseUp\", ((function(_this) {\n      return function(e) {\n        var contains, mx, my;\n        if (!_this.object.canReceiveInput()) {\n          return;\n        }\n        if (!_this.object.visible) {\n          return;\n        }\n        mx = Input.Mouse.x - _this.object.origin.x;\n        my = Input.Mouse.y - _this.object.origin.y;\n        contains = Rect.contains(_this.object.dstRect.x, _this.object.dstRect.y, _this.object.dstRect.width, _this.object.dstRect.height, mx, my);\n        if (contains) {\n          contains = _this.checkShape(mx - _this.object.dstRect.x, my - _this.object.dstRect.y);\n          if (contains) {\n            _this.containsPointer = contains;\n            _this.updateInput();\n            _this.updateEvents();\n            _this.object.needsUpdate = true;\n            return e.breakChain = true;\n          }\n        }\n      };\n    })(this)), null, this);\n    if (this.object.images || true) {\n      return gs.GlobalEventManager.on(\"mouseMoved\", ((function(_this) {\n        return function(e) {\n          var contains, mx, my;\n          if (!_this.object.canReceiveInput()) {\n            return;\n          }\n          if (!_this.object.visible) {\n            return;\n          }\n          contains = Rect.contains(_this.object.dstRect.x, _this.object.dstRect.y, _this.object.dstRect.width, _this.object.dstRect.height, Input.Mouse.x - _this.object.origin.x, Input.Mouse.y - _this.object.origin.y);\n          if (contains) {\n            mx = Input.Mouse.x - _this.object.origin.x;\n            my = Input.Mouse.y - _this.object.origin.y;\n            contains = _this.checkShape(mx - _this.object.dstRect.x, my - _this.object.dstRect.y);\n          }\n          if (_this.containsPointer !== contains) {\n            _this.containsPointer = contains;\n            _this.object.needsUpdate = true;\n            if (contains) {\n              _this.object.events.emit(\"enter\", _this);\n            } else {\n              _this.object.events.emit(\"leave\", _this);\n            }\n          }\n          return _this.updateInput();\n        };\n      })(this)), null, this);\n    }\n  };\n\n\n  /**\n  * Initializes the hotspot component.\n  *\n  * @method setup\n   */\n\n  Component_HotspotBehavior.prototype.setup = function() {\n    var i, j, len, ref, sound;\n    Component_HotspotBehavior.__super__.setup.apply(this, arguments);\n    this.sound = ui.Component_FormulaHandler.fieldValue(this.object, this.sound);\n    if (this.sounds != null) {\n      ref = this.sounds;\n      for (i = j = 0, len = ref.length; j < len; i = ++j) {\n        sound = ref[i];\n        this.sounds[i] = ui.Component_FormulaHandler.fieldValue(this.object, sound);\n      }\n    } else {\n      this.sounds = [];\n    }\n    return this.setupEventHandlers();\n  };\n\n\n  /**\n  * Disposes the component.\n  *\n  * @method dispose\n   */\n\n  Component_HotspotBehavior.prototype.dispose = function() {\n    Component_HotspotBehavior.__super__.dispose.apply(this, arguments);\n    gs.GlobalEventManager.offByOwner(\"mouseUp\", this);\n    return gs.GlobalEventManager.offByOwner(\"mouseMoved\", this);\n  };\n\n\n  /**\n  * Checks if the specified point is inside of the hotspot's shape.\n  *\n  * @method checkShape\n  * @param x - The x-coordinate of the point.\n  * @param y - The y-coordinate of the point.\n  * @return If <b>true</b> the point is inside of the hotspot's shape. Otherwise <b>false</b>.\n   */\n\n  Component_HotspotBehavior.prototype.checkShape = function(x, y) {\n    var ref, result;\n    result = true;\n    switch (this.shape) {\n      case gs.HotspotShape.PIXEL:\n        if (this.object.bitmap) {\n          result = this.object.bitmap.isPixelSet(x, y);\n        } else {\n          result = (ref = this.object.target) != null ? ref.bitmap.isPixelSet(x, y) : void 0;\n        }\n    }\n    return result;\n  };\n\n\n  /**\n  * Updates the image depending on the hotspot state.\n  *\n  * @method updateImage\n  * @protected\n   */\n\n  Component_HotspotBehavior.prototype.updateImage = function() {\n    var baseImage, object, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9;\n    object = this.object.target || this.object;\n    if (this.object.images != null) {\n      baseImage = this.enabled ? this.object.images[4] || this.object.images[0] : this.object.images[0];\n      if (this.containsPointer) {\n        if (this.object.selected || this.selected) {\n          object.image = ((ref = this.object.images[3]) != null ? ref.name : void 0) || ((ref1 = this.object.images[2]) != null ? ref1.name : void 0) || (baseImage != null ? baseImage.name : void 0);\n          object.imageFolder = ((ref2 = this.object.images[3]) != null ? ref2.folderPath : void 0) || ((ref3 = this.object.images[2]) != null ? ref3.folderPath : void 0) || (baseImage != null ? baseImage.folderPath : void 0);\n        } else {\n          object.image = ((ref4 = this.object.images[1]) != null ? ref4.name : void 0) || (baseImage != null ? baseImage.name : void 0);\n          object.imageFolder = ((ref5 = this.object.images[1]) != null ? ref5.folderPath : void 0) || (baseImage != null ? baseImage.folderPath : void 0);\n        }\n      } else {\n        if (this.object.selected || this.selected) {\n          object.image = ((ref6 = this.object.images[2]) != null ? ref6.name : void 0) || ((ref7 = this.object.images[4]) != null ? ref7.name : void 0) || (baseImage != null ? baseImage.name : void 0);\n          object.imageFolder = ((ref8 = this.object.images[2]) != null ? ref8.folderPath : void 0) || ((ref9 = this.object.images[4]) != null ? ref9.folderPath : void 0) || (baseImage != null ? baseImage.folderPath : void 0);\n        } else {\n          object.image = baseImage != null ? baseImage.name : void 0;\n          object.imageFolder = baseImage != null ? baseImage.folderPath : void 0;\n        }\n      }\n      if (!object.image) {\n        return object.bitmap = null;\n      }\n    }\n  };\n\n\n  /**\n  * Updates the hotspot position and size from an other target game object. For example,\n  * that is useful for adding a hotspot to an other moving game object.\n  *\n  * @method updateFromTarget\n  * @protected\n   */\n\n  Component_HotspotBehavior.prototype.updateFromTarget = function() {\n    if (this.object.target != null) {\n      this.object.rIndex = this.object.target.rIndex;\n      this.object.dstRect.x = this.object.target.dstRect.x;\n      this.object.dstRect.y = this.object.target.dstRect.y;\n      this.object.dstRect.width = this.object.target.dstRect.width;\n      this.object.dstRect.height = this.object.target.dstRect.height;\n      this.object.offset.x = this.object.target.offset.x;\n      this.object.offset.y = this.object.target.offset.y;\n      this.object.origin.x = this.object.target.origin.x;\n      return this.object.origin.y = this.object.target.origin.y;\n    }\n  };\n\n\n  /**\n  * Updates the event-handling and fires necessary events.\n  *\n  * @method updateEvents\n  * @protected\n   */\n\n  Component_HotspotBehavior.prototype.updateEvents = function() {\n    var group, j, len, object;\n    if (this.buttonUp && this.object.enabled && this.enabled && this.object.visible) {\n      if (this.object.selectable) {\n        group = gs.ObjectManager.current.objectsByGroup(this.object.group);\n        for (j = 0, len = group.length; j < len; j++) {\n          object = group[j];\n          if (object !== this.object) {\n            object.selected = false;\n          }\n        }\n        if (this.object.group) {\n          this.selected = true;\n        } else {\n          this.selected = !this.selected;\n        }\n        if (this.selected) {\n          AudioManager.playSound(this.sounds[0] || this.sound);\n        } else {\n          AudioManager.playSound(this.sounds[1] || this.sound);\n        }\n        this.object.events.emit(\"click\", this);\n        return this.object.events.emit(\"stateChanged\", this.object);\n      } else {\n        AudioManager.playSound(this.sounds[0] || this.sound);\n        this.object.events.emit(\"click\", this);\n        return this.object.events.emit(\"action\", this);\n      }\n    }\n  };\n\n\n  /**\n  * Updates the game object's color depending on the state of the hotspot.\n  *\n  * @method updateColor\n  * @protected\n   */\n\n  Component_HotspotBehavior.prototype.updateColor = function() {\n    if (!this.object.enabled) {\n      return this.object.color.set(0, 0, 0, 100);\n    } else {\n      return this.object.color.set(0, 0, 0, 0);\n    }\n  };\n\n\n  /**\n  * Stores current states of mouse/touch pointer and buttons.\n  *\n  * @method updateInput\n  * @protected\n   */\n\n  Component_HotspotBehavior.prototype.updateInput = function() {\n    this.buttonUp = Input.Mouse.buttons[this.actionButton] === 2 && this.containsPointer;\n    return this.buttonDown = Input.Mouse.buttons[this.actionButton] === 1 && this.containsPointer;\n  };\n\n\n  /**\n  * Updates the hotspot component.\n  *\n  * @method update\n   */\n\n  Component_HotspotBehavior.prototype.update = function() {\n    if (!this.object.visible) {\n      return;\n    }\n    this.updateColor();\n    this.updateFromTarget();\n    return this.updateImage();\n  };\n\n  return Component_HotspotBehavior;\n\n})(gs.Component);\n\ngs.Component_HotspotBehavior = Component_HotspotBehavior;\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVFBLElBQUEsdUNBQUE7RUFBQTs7O0FBQU07OztFQUNGLFlBQUMsQ0FBQSxTQUFELEdBQWE7O0VBQ2IsWUFBQyxDQUFBLEtBQUQsR0FBUzs7Ozs7O0FBQ2IsRUFBRSxDQUFDLFlBQUgsR0FBa0I7O0FBRVo7Ozs7QUFDRjs7Ozs7Ozs7O3NDQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7V0FDakIsSUFBQyxDQUFBLGtCQUFELENBQUE7RUFEaUI7OztBQUdyQjs7Ozs7Ozs7Ozs7O0VBV2EsbUNBQUMsTUFBRDs7QUFDVDs7Ozs7QUFBQSxRQUFBO0lBS0EsSUFBQyxDQUFBLEtBQUQsR0FBUyxFQUFFLENBQUMsWUFBWSxDQUFDOztBQUV6Qjs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFZOztBQUVaOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7O0FBRVg7Ozs7O0lBS0EsSUFBQyxDQUFBLGFBQUQsR0FBaUI7O0FBRWpCOzs7Ozs7SUFNQSxJQUFDLENBQUEsZUFBRCxHQUFtQjs7QUFFbkI7Ozs7OztJQU1BLElBQUMsQ0FBQSxRQUFELEdBQVk7O0FBRVo7Ozs7OztJQU1BLElBQUMsQ0FBQSxVQUFELEdBQWM7O0FBRWQ7Ozs7O0lBS0EsSUFBQyxDQUFBLGFBQUQsR0FBaUI7TUFBRSxNQUFBLEVBQVEsS0FBSyxDQUFDLEtBQUssQ0FBQyxXQUF0QjtNQUFtQyxPQUFBLEVBQVMsS0FBSyxDQUFDLEtBQUssQ0FBQyxZQUF4RDtNQUFzRSxRQUFBLEVBQVUsS0FBSyxDQUFDLEtBQUssQ0FBQyxhQUE1Rjs7O0FBRWpCOzs7Ozs7SUFNQSxJQUFDLENBQUEsWUFBRCxHQUFnQixJQUFDLENBQUEsYUFBYyx1RUFBdUIsTUFBdkI7O0FBRS9COzs7OztJQUtBLElBQUMsQ0FBQSxLQUFELG9CQUFTLE1BQU0sQ0FBRTs7QUFFakI7Ozs7Ozs7OztJQVNBLElBQUMs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QXJCLEVBQXdCLENBQXhCLEVBQTJCLENBQTNCLEVBSEo7O0VBRFM7OztBQU1iOzs7Ozs7O3NDQU1BLFdBQUEsR0FBYSxTQUFBO0lBQ1QsSUFBQyxDQUFBLFFBQUQsR0FBWSxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQVEsQ0FBQSxJQUFDLENBQUEsWUFBRCxDQUFwQixLQUFzQyxDQUF0QyxJQUE0QyxJQUFDLENBQUE7V0FDekQsSUFBQyxDQUFBLFVBQUQsR0FBYyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQVEsQ0FBQSxJQUFDLENBQUEsWUFBRCxDQUFwQixLQUFzQyxDQUF0QyxJQUE0QyxJQUFDLENBQUE7RUFGbEQ7OztBQUliOzs7Ozs7c0NBS0EsTUFBQSxHQUFRLFNBQUE7SUFDSixJQUFHLENBQUksSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFmO0FBQTRCLGFBQTVCOztJQUVBLElBQUMsQ0FBQSxXQUFELENBQUE7SUFDQSxJQUFDLENBQUEsZ0JBQUQsQ0FBQTtXQUNBLElBQUMsQ0FBQSxXQUFELENBQUE7RUFMSTs7OztHQXZWNEIsRUFBRSxDQUFDOztBQThWM0MsRUFBRSxDQUFDLHlCQUFILEdBQStCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfSG90c3BvdEJlaGF2aW9yXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNsYXNzIEhvdHNwb3RTaGFwZVxuICAgIEBSRUNUQU5HTEUgPSBcInJlY3RcIlxuICAgIEBQSVhFTCA9IFwicGl4ZWxcIlxuZ3MuSG90c3BvdFNoYXBlID0gSG90c3BvdFNoYXBlXG5cbmNsYXNzIENvbXBvbmVudF9Ib3RzcG90QmVoYXZpb3IgZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgaWYgdGhpcyBvYmplY3QgaW5zdGFuY2UgaXMgcmVzdG9yZWQgZnJvbSBhIGRhdGEtYnVuZGxlLiBJdCBjYW4gYmUgdXNlZFxuICAgICogcmUtYXNzaWduIGV2ZW50LWhhbmRsZXIsIGFub255bW91cyBmdW5jdGlvbnMsIGV0Yy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG9uRGF0YUJ1bmRsZVJlc3RvcmUuXG4gICAgKiBAcGFyYW0gT2JqZWN0IGRhdGEgLSBUaGUgZGF0YS1idW5kbGVcbiAgICAqIEBwYXJhbSBncy5PYmplY3RDb2RlY0NvbnRleHQgY29udGV4dCAtIFRoZSBjb2RlYy1jb250ZXh0LlxuICAgICMjI1xuICAgIG9uRGF0YUJ1bmRsZVJlc3RvcmU6IChkYXRhLCBjb250ZXh0KSAtPlxuICAgICAgICBAc2V0dXBFdmVudEhhbmRsZXJzKClcblxuICAgICMjIypcbiAgICAqIEFkZHMgYSBob3RzcG90LWJlaGF2aW9yIHRvIGEgZ2FtZSBvYmplY3QuIFRoYXQgYWxsb3dzIGEgZ2FtZSBvYmplY3RcbiAgICAqIHRvIHJlc3BvbmQgdG8gbW91c2UvdG91Y2ggYWN0aW9ucyBieSBmaXJpbmcgYW4gYWN0aW9uLWV2ZW50IG9yIGNoYW5naW5nXG4gICAgKiB0aGUgZ2FtZSBvYmplY3QncyBpbWFnZS5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X0hvdHNwb3RCZWhhdmlvclxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAocGFyYW1zKSAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHNoYXBlIHVzZWQgdG8gZGV0ZWN0IGlmIGEgaG90c3BvdCBpcyBjbGlja2VkLCBob3ZlcmVkLCBldGMuXG4gICAgICAgICogQHByb3BlcnR5IHNoYXBlXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQHNoYXBlID0gZ3MuSG90c3BvdFNoYXBlLlJFQ1RBTkdMRVxuXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGhvdHNwb3QgaXMgc2VsZWN0ZWQuXG4gICAgICAgICogQHByb3BlcnR5IHNlbGVjdGVkXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQHNlbGVjdGVkID0gbm9cblxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBob3RzcG90IGlzIGVuYWJsZWQuXG4gICAgICAgICogQHByb3BlcnR5IGVuYWJsZWRcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAZW5hYmxlZCA9IHllc1xuXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgaW1hZ2VIYW5kbGluZ1xuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBpbWFnZUhhbmRsaW5nID0gMFxuXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG1vdXNlL3RvdWNoIHBvaW50ZXIgaXMgaW5zaWRlIHRoZSBob3RzcG90IGJvdW5kcy5cbiAgICAgICAgKiBAcHJvcGVydHkgY29udGFpbnNcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGNvbnRhaW5zUG9pbnRlciA9IG5vXG5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgYWN0aW9uLWJ1dHRvbiB3YXMgcHJlc3NlZCBiZWZvcmUuXG4gICAgICAgICogQHByb3BlcnR5IGJ1dHRvblVwXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBidXR0b25VcCA9IG5vXG5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgYWN0aW9uLWJ1dHRvbiBpcyBwcmVzc2VkLlxuICAgICAgICAqIEBwcm9wZXJ0eSBidXR0b25Eb3duXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBidXR0b25Eb3duID0gbm9cblxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IGFjdGlvbkJ1dHRvbnNcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAYWN0aW9uQnV0dG9ucyA9IHsgXCJsZWZ0XCI6IElucHV0Lk1vdXNlLkJVVFRPTl9MRUZULCBcInJpZ2h0XCI6IElucHV0Lk1vdXNlLkJVVFRPTl9SSUdIVCwgXCJtaWRkbGVcIjogSW5wdXQuTW91c2UuQlVUVE9OX01JRERMRSB9XG5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBkZWZhdWx0IGFjdGlvbi1idXR0b24uIEJ5IGRlZmF1bHQgdGhlIGxlZnQtYnV0dG9uIGlzIHVzZWQuXG4gICAgICAgICpcbiAgICAgICAgKiBAcHJvcGVydHkgYWN0aW9uQnV0dG9uXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAYWN0aW9uQnV0dG9uID0gQGFjdGlvbkJ1dHRvbnNbcGFyYW1zPy5hY3Rpb25CdXR0b24gPyBcImxlZnRcIl1cblxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHNvdW5kIHBsYXllZCBpZiB0aGUgaG90c3BvdCBhY3Rpb24gaXMgZXhlY3V0ZWQuXG4gICAgICAgICogQHByb3BlcnR5IHNvdW5kXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAc291bmQgPSBwYXJhbXM/LnNvdW5kXG5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIDxwPlRoZSBzb3VuZHMgcGxheWVkIGRlcGVuZGluZyBvbiB0aGUgaG90c3BvdCBzdGF0ZS48L3A+XG4gICAgICAgICogPHVsPlxuICAgICAgICAqIDxsaT4wID0gU2VsZWN0IFNvdW5kPC9saT5cbiAgICAgICAgKiA8bGk+MSA9IFVuc2VsZWN0IFNvdW5kPC9saT5cbiAgICAgICAgKiA8L3VsPlxuICAgICAgICAqIEBwcm9wZXJ0eSBzb3VuZHNcbiAgICAgICAgKiBAdHlwZSBPYmplY3RbXVxuICAgICAgICAjIyNcbiAgICAgICAgQHNvdW5kcyA9IHBhcmFtcz8uc291bmRzIHx8IFtdXG5cblxuICAgICMjIypcbiAgICAqIEdldHMgdGhlIHJlbmRlci1pbmRleCBvZiB0aGUgb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCB0aGUgaG90c3BvdCBjb21wb25lbnQuIFRoaXNcbiAgICAqIGltcGxlbWVudGF0aW9uIGlzIG5lY2Vzc2FyeSB0byBiZSBhYmxlIHRvIGFjdCBhcyBhbiBvd25lciBmb3IgZ3MuRXZlbnRFbWl0dGVyLm9uXG4gICAgKiBldmVudCByZWdpc3RyYXRpb24uXG4gICAgKlxuICAgICogQHByb3BlcnR5IHJJbmRleFxuICAgICogQHR5cGUgbnVtYmVyXG4gICAgIyMjXG4gICAgQGFjY2Vzc29ycyBcInJJbmRleFwiLFxuICAgICAgICBnZXQ6IC0+IEBvYmplY3QudGFyZ2V0Py5ySW5kZXggfHwgQG9iamVjdC5ySW5kZXhcblxuICAgICMjIypcbiAgICAqIFNldHMgdXAgZXZlbnQgaGFuZGxlcnMuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cEV2ZW50SGFuZGxlcnNcbiAgICAjIyNcbiAgICBzZXR1cEV2ZW50SGFuZGxlcnM6IC0+XG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwibW91c2VVcFwiLCB0aGlzKVxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcIm1vdXNlTW92ZWRcIiwgdGhpcylcblxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub24gXCJob3RzcG90RHJvcFwiLCAoKGUpID0+XG4gICAgICAgICAgICByZXR1cm4gaWYgIUBvYmplY3QuY2FuUmVjZWl2ZUlucHV0KClcbiAgICAgICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgICAgICBmb3IgaG90c3BvdCBpbiBzY2VuZS5ob3RzcG90c1xuICAgICAgICAgICAgICAgIHJlY3QgPSBlLnNlbmRlci5kc3RSZWN0XG4gICAgICAgICAgICAgICAgaWYgaG90c3BvdD8gYW5kIGhvdHNwb3QgIT0gZS5zZW5kZXIgYW5kIGhvdHNwb3QuZHN0UmVjdC5jb250YWlucyhJbnB1dC5Nb3VzZS54LCBJbnB1dC5Nb3VzZS55KVxuICAgICAgICAgICAgICAgICAgICBob3RzcG90LmV2ZW50cy5lbWl0KFwiZHJvcFJlY2VpdmVkXCIsIGhvdHNwb3QpXG4gICAgICAgICAgICAgICAgICAgICNAZXhlY3V0ZUFjdGlvbihob3RzcG90LmRhdGEucGFyYW1zLmFjdGlvbnMub25Ecm9wUmVjZWl2ZSwgeWVzLCBob3RzcG90LmRhdGEuYmluZFZhbHVlKVxuICAgICAgICApLCBudWxsLCB0aGlzXG5cbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9uIFwibW91c2VVcFwiLCAoKGUpID0+XG4gICAgICAgICAgICByZXR1cm4gaWYgIUBvYmplY3QuY2FuUmVjZWl2ZUlucHV0KClcbiAgICAgICAgICAgIHJldHVybiBpZiBub3QgQG9iamVjdC52aXNpYmxlXG4gICAgICAgICAgICBteCA9IElucHV0Lk1vdXNlLnggLSBAb2JqZWN0Lm9yaWdpbi54XG4gICAgICAgICAgICBteSA9IElucHV0Lk1vdXNlLnkgLSBAb2JqZWN0Lm9yaWdpbi55XG4gICAgICAgICAgICBjb250YWlucyA9IFJlY3QuY29udGFpbnMoQG9iamVjdC5kc3RSZWN0LngsIEBvYmplY3QuZHN0UmVjdC55LFxuICAgICAgICAgICAgICAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC53aWR0aCwgQG9iamVjdC5kc3RSZWN0LmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICBteCwgbXkpXG4gICAgICAgICAgICBpZiBjb250YWluc1xuICAgICAgICAgICAgICAgIGNvbnRhaW5zID0gQGNoZWNrU2hhcGUobXggLSBAb2JqZWN0LmRzdFJlY3QueCwgbXkgLSBAb2JqZWN0LmRzdFJlY3QueSlcbiAgICAgICAgICAgICAgICBpZiBjb250YWluc1xuICAgICAgICAgICAgICAgICAgICBAY29udGFpbnNQb2ludGVyID0gY29udGFpbnNcbiAgICAgICAgICAgICAgICAgICAgQHVwZGF0ZUlucHV0KClcbiAgICAgICAgICAgICAgICAgICAgQHVwZGF0ZUV2ZW50cygpXG4gICAgICAgICAgICAgICAgICAgIEBvYmplY3QubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgZS5icmVha0NoYWluID0geWVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgbnVsbCwgdGhpc1xuXG4gICAgICAgIGlmIEBvYmplY3QuaW1hZ2VzIG9yIHllc1xuICAgICAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9uIFwibW91c2VNb3ZlZFwiLCAoKGUpID0+XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlmICFAb2JqZWN0LmNhblJlY2VpdmVJbnB1dCgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlmIG5vdCBAb2JqZWN0LnZpc2libGVcblxuICAgICAgICAgICAgICAgIGNvbnRhaW5zID0gUmVjdC5jb250YWlucyhAb2JqZWN0LmRzdFJlY3QueCwgQG9iamVjdC5kc3RSZWN0LnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LndpZHRoLCBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0Lk1vdXNlLnggLSBAb2JqZWN0Lm9yaWdpbi54LCBJbnB1dC5Nb3VzZS55IC0gQG9iamVjdC5vcmlnaW4ueSlcblxuICAgICAgICAgICAgICAgIGlmIGNvbnRhaW5zXG4gICAgICAgICAgICAgICAgICAgIG14ID0gSW5wdXQuTW91c2UueCAtIEBvYmplY3Qub3JpZ2luLnhcbiAgICAgICAgICAgICAgICAgICAgbXkgPSBJbnB1dC5Nb3VzZS55IC0gQG9iamVjdC5vcmlnaW4ueVxuICAgICAgICAgICAgICAgICAgICBjb250YWlucyA9IEBjaGVja1NoYXBlKG14IC0gQG9iamVjdC5kc3RSZWN0LngsIG15IC0gQG9iamVjdC5kc3RSZWN0LnkpXG5cbiAgICAgICAgICAgICAgICBpZiBAY29udGFpbnNQb2ludGVyICE9IGNvbnRhaW5zXG4gICAgICAgICAgICAgICAgICAgIEBjb250YWluc1BvaW50ZXIgPSBjb250YWluc1xuICAgICAgICAgICAgICAgICAgICBAb2JqZWN0Lm5lZWRzVXBkYXRlID0geWVzXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgY29udGFpbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIEBvYmplY3QuZXZlbnRzLmVtaXQoXCJlbnRlclwiLCB0aGlzKVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmV2ZW50cy5lbWl0KFwibGVhdmVcIiwgdGhpcylcblxuICAgICAgICAgICAgICAgIEB1cGRhdGVJbnB1dCgpXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgbnVsbCwgdGhpc1xuXG4gICAgIyMjKlxuICAgICogSW5pdGlhbGl6ZXMgdGhlIGhvdHNwb3QgY29tcG9uZW50LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBcbiAgICAjIyNcbiAgICBzZXR1cDogLT5cbiAgICAgICAgc3VwZXJcblxuICAgICAgICBAc291bmQgPSB1aS5Db21wb25lbnRfRm9ybXVsYUhhbmRsZXIuZmllbGRWYWx1ZShAb2JqZWN0LCBAc291bmQpXG5cbiAgICAgICAgaWYgQHNvdW5kcz9cbiAgICAgICAgICAgIGZvciBzb3VuZCwgaSBpbiBAc291bmRzXG4gICAgICAgICAgICAgICAgQHNvdW5kc1tpXSA9IHVpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKEBvYmplY3QsIHNvdW5kKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgIEBzb3VuZHMgPSBbXVxuXG5cbiAgICAgICAgQHNldHVwRXZlbnRIYW5kbGVycygpXG5cblxuXG4gICAgIyMjKlxuICAgICogRGlzcG9zZXMgdGhlIGNvbXBvbmVudC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGRpc3Bvc2VcbiAgICAjIyNcbiAgICBkaXNwb3NlOiAtPlxuICAgICAgICBzdXBlclxuXG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwibW91c2VVcFwiLCB0aGlzKVxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcIm1vdXNlTW92ZWRcIiwgdGhpcylcblxuXG4gICAgIyMjKlxuICAgICogQ2hlY2tzIGlmIHRoZSBzcGVjaWZpZWQgcG9pbnQgaXMgaW5zaWRlIG9mIHRoZSBob3RzcG90J3Mgc2hhcGUuXG4gICAgKlxuICAgICogQG1ldGhvZCBjaGVja1NoYXBlXG4gICAgKiBAcGFyYW0geCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHBvaW50LlxuICAgICogQHBhcmFtIHkgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBwb2ludC5cbiAgICAqIEByZXR1cm4gSWYgPGI+dHJ1ZTwvYj4gdGhlIHBvaW50IGlzIGluc2lkZSBvZiB0aGUgaG90c3BvdCdzIHNoYXBlLiBPdGhlcndpc2UgPGI+ZmFsc2U8L2I+LlxuICAgICMjI1xuICAgIGNoZWNrU2hhcGU6ICh4LCB5KSAtPlxuICAgICAgICByZXN1bHQgPSB5ZXNcblxuICAgICAgICBzd2l0Y2ggQHNoYXBlXG4gICAgICAgICAgICB3aGVuIGdzLkhvdHNwb3RTaGFwZS5QSVhFTFxuICAgICAgICAgICAgICAgIGlmIEBvYmplY3QuYml0bWFwXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IEBvYmplY3QuYml0bWFwLmlzUGl4ZWxTZXQoeCwgeSlcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IEBvYmplY3QudGFyZ2V0Py5iaXRtYXAuaXNQaXhlbFNldCh4LCB5KVxuXG4gICAgICAgIHJldHVybiByZXN1bHRcblxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGltYWdlIGRlcGVuZGluZyBvbiB0aGUgaG90c3BvdCBzdGF0ZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZUltYWdlXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjXG4gICAgdXBkYXRlSW1hZ2U6IC0+XG4gICAgICAgIG9iamVjdCA9IEBvYmplY3QudGFyZ2V0IHx8IEBvYmplY3RcbiAgICAgICAgaWYgQG9iamVjdC5pbWFnZXM/XG4gICAgICAgICAgICBiYXNlSW1hZ2UgPSBpZiBAZW5hYmxlZCB0aGVuIEBvYmplY3QuaW1hZ2VzWzRdIHx8IEBvYmplY3QuaW1hZ2VzWzBdIGVsc2UgQG9iamVjdC5pbWFnZXNbMF1cbiAgICAgICAgICAgIGlmIEBjb250YWluc1BvaW50ZXJcbiAgICAgICAgICAgICAgICBpZiBAb2JqZWN0LnNlbGVjdGVkIG9yIEBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICBvYmplY3QuaW1hZ2UgPSBAb2JqZWN0LmltYWdlc1szXT8ubmFtZSB8fCBAb2JqZWN0LmltYWdlc1syXT8ubmFtZSB8fCBiYXNlSW1hZ2U/Lm5hbWVcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmltYWdlRm9sZGVyID0gQG9iamVjdC5pbWFnZXNbM10/LmZvbGRlclBhdGggfHwgQG9iamVjdC5pbWFnZXNbMl0/LmZvbGRlclBhdGggfHwgYmFzZUltYWdlPy5mb2xkZXJQYXRoXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBvYmplY3QuaW1hZ2UgPSBAb2JqZWN0LmltYWdlc1sxXT8ubmFtZSB8fCBiYXNlSW1hZ2U/Lm5hbWVcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmltYWdlRm9sZGVyID0gQG9iamVjdC5pbWFnZXNbMV0/LmZvbGRlclBhdGggfHwgYmFzZUltYWdlPy5mb2xkZXJQYXRoXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaWYgQG9iamVjdC5zZWxlY3RlZCBvciBAc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmltYWdlID0gQG9iamVjdC5pbWFnZXNbMl0/Lm5hbWUgfHwgQG9iamVjdC5pbWFnZXNbNF0/Lm5hbWUgfHwgYmFzZUltYWdlPy5uYW1lXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5pbWFnZUZvbGRlciA9IEBvYmplY3QuaW1hZ2VzWzJdPy5mb2xkZXJQYXRoIHx8IEBvYmplY3QuaW1hZ2VzWzRdPy5mb2xkZXJQYXRoIHx8IGJhc2VJbWFnZT8uZm9sZGVyUGF0aFxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmltYWdlID0gYmFzZUltYWdlPy5uYW1lXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5pbWFnZUZvbGRlciA9IGJhc2VJbWFnZT8uZm9sZGVyUGF0aFxuXG4gICAgICAgICAgICBpZiAhb2JqZWN0LmltYWdlXG4gICAgICAgICAgICAgICAgb2JqZWN0LmJpdG1hcCA9IG51bGxcblxuXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgaG90c3BvdCBwb3NpdGlvbiBhbmQgc2l6ZSBmcm9tIGFuIG90aGVyIHRhcmdldCBnYW1lIG9iamVjdC4gRm9yIGV4YW1wbGUsXG4gICAgKiB0aGF0IGlzIHVzZWZ1bCBmb3IgYWRkaW5nIGEgaG90c3BvdCB0byBhbiBvdGhlciBtb3ZpbmcgZ2FtZSBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVGcm9tVGFyZ2V0XG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjXG4gICAgdXBkYXRlRnJvbVRhcmdldDogLT5cbiAgICAgICAgaWYgQG9iamVjdC50YXJnZXQ/XG4gICAgICAgICAgICBAb2JqZWN0LnJJbmRleCA9IEBvYmplY3QudGFyZ2V0LnJJbmRleFxuICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LnggPSBAb2JqZWN0LnRhcmdldC5kc3RSZWN0LnhcbiAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC55ID0gQG9iamVjdC50YXJnZXQuZHN0UmVjdC55XG4gICAgICAgICAgICBAb2JqZWN0LmRzdFJlY3Qud2lkdGggPSBAb2JqZWN0LnRhcmdldC5kc3RSZWN0LndpZHRoXG4gICAgICAgICAgICBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0ID0gQG9iamVjdC50YXJnZXQuZHN0UmVjdC5oZWlnaHRcbiAgICAgICAgICAgIEBvYmplY3Qub2Zmc2V0LnggPSBAb2JqZWN0LnRhcmdldC5vZmZzZXQueFxuICAgICAgICAgICAgQG9iamVjdC5vZmZzZXQueSA9IEBvYmplY3QudGFyZ2V0Lm9mZnNldC55XG4gICAgICAgICAgICBAb2JqZWN0Lm9yaWdpbi54ID0gQG9iamVjdC50YXJnZXQub3JpZ2luLnhcbiAgICAgICAgICAgIEBvYmplY3Qub3JpZ2luLnkgPSBAb2JqZWN0LnRhcmdldC5vcmlnaW4ueVxuXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgZXZlbnQtaGFuZGxpbmcgYW5kIGZpcmVzIG5lY2Vzc2FyeSBldmVudHMuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVFdmVudHNcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyNcbiAgICB1cGRhdGVFdmVudHM6IC0+XG4gICAgICAgIGlmIEBidXR0b25VcCBhbmQgQG9iamVjdC5lbmFibGVkIGFuZCBAZW5hYmxlZCBhbmQgQG9iamVjdC52aXNpYmxlXG4gICAgICAgICAgICBpZiBAb2JqZWN0LnNlbGVjdGFibGVcbiAgICAgICAgICAgICAgICBncm91cCA9IGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5vYmplY3RzQnlHcm91cChAb2JqZWN0Lmdyb3VwKVxuICAgICAgICAgICAgICAgIGZvciBvYmplY3QgaW4gZ3JvdXBcbiAgICAgICAgICAgICAgICAgICAgaWYgb2JqZWN0ICE9IEBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zZWxlY3RlZCA9IG5vXG4gICAgICAgICAgICAgICAgaWYgQG9iamVjdC5ncm91cFxuICAgICAgICAgICAgICAgICAgICBAc2VsZWN0ZWQgPSB5ZXNcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIEBzZWxlY3RlZCA9ICFAc2VsZWN0ZWRcblxuICAgICAgICAgICAgICAgIGlmIEBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICBBdWRpb01hbmFnZXIucGxheVNvdW5kKEBzb3VuZHNbMF0gfHwgQHNvdW5kKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLnBsYXlTb3VuZChAc291bmRzWzFdIHx8IEBzb3VuZClcbiAgICAgICAgICAgICAgICBAb2JqZWN0LmV2ZW50cy5lbWl0KFwiY2xpY2tcIiwgdGhpcylcbiAgICAgICAgICAgICAgICBAb2JqZWN0LmV2ZW50cy5lbWl0KFwic3RhdGVDaGFuZ2VkXCIsIEBvYmplY3QpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLnBsYXlTb3VuZChAc291bmRzWzBdIHx8IEBzb3VuZClcbiAgICAgICAgICAgICAgICBAb2JqZWN0LmV2ZW50cy5lbWl0KFwiY2xpY2tcIiwgdGhpcylcbiAgICAgICAgICAgICAgICBAb2JqZWN0LmV2ZW50cy5lbWl0KFwiYWN0aW9uXCIsIHRoaXMpXG5cbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBnYW1lIG9iamVjdCdzIGNvbG9yIGRlcGVuZGluZyBvbiB0aGUgc3RhdGUgb2YgdGhlIGhvdHNwb3QuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVDb2xvclxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIHVwZGF0ZUNvbG9yOiAtPlxuICAgICAgICBpZiAhQG9iamVjdC5lbmFibGVkXG4gICAgICAgICAgICBAb2JqZWN0LmNvbG9yLnNldCgwLCAwLCAwLCAxMDApXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBvYmplY3QuY29sb3Iuc2V0KDAsIDAsIDAsIDApXG5cbiAgICAjIyMqXG4gICAgKiBTdG9yZXMgY3VycmVudCBzdGF0ZXMgb2YgbW91c2UvdG91Y2ggcG9pbnRlciBhbmQgYnV0dG9ucy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZUlucHV0XG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjXG4gICAgdXBkYXRlSW5wdXQ6IC0+XG4gICAgICAgIEBidXR0b25VcCA9IElucHV0Lk1vdXNlLmJ1dHRvbnNbQGFjdGlvbkJ1dHRvbl0gPT0gMiBhbmQgQGNvbnRhaW5zUG9pbnRlclxuICAgICAgICBAYnV0dG9uRG93biA9IElucHV0Lk1vdXNlLmJ1dHRvbnNbQGFjdGlvbkJ1dHRvbl0gPT0gMSBhbmQgQGNvbnRhaW5zUG9pbnRlclxuXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgaG90c3BvdCBjb21wb25lbnQuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyNcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIGlmIG5vdCBAb2JqZWN0LnZpc2libGUgdGhlbiByZXR1cm5cblxuICAgICAgICBAdXBkYXRlQ29sb3IoKVxuICAgICAgICBAdXBkYXRlRnJvbVRhcmdldCgpXG4gICAgICAgIEB1cGRhdGVJbWFnZSgpXG5cbmdzLkNvbXBvbmVudF9Ib3RzcG90QmVoYXZpb3IgPSBDb21wb25lbnRfSG90c3BvdEJlaGF2aW9yIl19\n//# sourceURL=Component_HotspotBehavior_23.js"
    },
    "summary": [
        "name",
        "type",
        "order"
    ],
    "externalItems": []
}